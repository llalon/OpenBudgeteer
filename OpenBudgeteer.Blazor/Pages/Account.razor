@page "/account"

@using System.Globalization

<MudPaper Class="d-flex flex-row flex-wrap no-background" Elevation="0">
    <MudButton Class="me-2 mb-2" Variant="Variant.Filled" Size="Size.Small" Color="Color.Primary" OnClick="@(() => ShowEditAccountDialog(null))">New account</MudButton>
</MudPaper>

<MudPaper Class="d-flex flex-wrap no-background" Elevation="0">
    @foreach (var account in _dataContext.Accounts)
    {
        <MudCard Class="card-account me-2 mb-2">
            <MudCardContent>
                <MudText Typo="Typo.h5">@account.Name</MudText>
                <MudText Typo="Typo.body2">Balance: @account.Balance.ToString("C", CultureInfo.CurrentCulture)</MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Filled" Size="Size.Small" Color="Color.Primary" Class="me-2" OnClick="@(() => ShowTransactionListingDialog(account))">Display Transactions</MudButton>
                <MudButton Variant="Variant.Filled" Size="Size.Small" Color="Color.Primary" Class="me-2" OnClick="@(() => ShowEditAccountDialog(account))">Edit</MudButton>
                <MudButton Variant="Variant.Filled" Size="Size.Small" Color="Color.Error" OnClick="@(() => ShowCloseAccountDialog(account))">Close</MudButton>
            </MudCardActions>
        </MudCard>
    }
</MudPaper>
